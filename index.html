<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2026-01-17 Sat 17:35 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>A (mostly functional) Modern Computer Science Curriculum</title>
<meta name="author" content="jbh" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style> body {max-width: 62.5rem; padding: 1rem; margin: auto; background-color: #fafad2} </style>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">A (mostly functional) Modern Computer Science Curriculum</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgaa4c5e5">What is this</a></li>
<li><a href="#org22d2ee0">Basics</a>
<ul>
<li><a href="#org9012bbd">Programming</a></li>
<li><a href="#org5361827">Proofs</a></li>
<li><a href="#org8216868">Algorithms</a></li>
</ul>
</li>
<li><a href="#org8d97993">Computational Trinity</a>
<ul>
<li><a href="#org8aded8c">Languages</a></li>
<li><a href="#org52d8c84">Logic</a></li>
<li><a href="#org89c3ae7">Category theory</a></li>
</ul>
</li>
<li><a href="#org9204952">Start here</a>
<ul>
<li><a href="#orgee82c80">Proving equalities</a></li>
<li><a href="#org1bbe474">Tips and tricks</a></li>
<li><a href="#orgfe74086">Proving inequalities</a></li>
<li><a href="#org8405b9c">Proofs with structure</a></li>
</ul>
</li>
<li><a href="#org08ad81b">Principles of Functional Programming</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgaa4c5e5" class="outline-2">
<h2 id="orgaa4c5e5">What is this</h2>
<div class="outline-text-2" id="text-orgaa4c5e5">
<p>
This is a dive into what <a href="https://www.cs.cmu.edu/~rwh/">Robert Harper</a> calls <a href="https://existentialtype.wordpress.com/2011/03/27/the-holy-trinity/">computational trinitarianism</a> where the theory of computation manifests itself in three forms: Logic, Languages, and Categories. Any route can get you to the 'divine notion of computation'.
</p>
</div>
</div>
<div id="outline-container-org22d2ee0" class="outline-2">
<h2 id="org22d2ee0">Basics</h2>
<div class="outline-text-2" id="text-org22d2ee0">
</div>
<div id="outline-container-org9012bbd" class="outline-3">
<h3 id="org9012bbd">Programming</h3>
<div class="outline-text-3" id="text-org9012bbd">
<ul class="org-ul">
<li>15-150 <a href="https://brandonspark.github.io/150/">Principles of Functional Programming</a> (SML)
<ul class="org-ul">
<li>The terse <a href="https://www.functionsarevalues.com/">version</a></li>
<li>Older Assignments &amp; labs can be grabbed from <a href="https://github.com/zhengguan/15150-2">here</a> and <a href="https://github.com/zh3036/15150">here</a></li>
<li>TAs wrote helpful <a href="https://smlhelp.github.io/book/docs/">docs</a> for 15-150</li>
<li>We can also try whatever current version of <a href="https://hypefortypes.github.io/">hype for types</a></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org5361827" class="outline-3">
<h3 id="org5361827">Proofs</h3>
<div class="outline-text-3" id="text-org5361827">
<p>
This is a typical discrete math course except formalized in Lean 4.
</p>

<ul class="org-ul">
<li><i>The Mechanics of Proof</i> using <a href="https://hrmacbeth.github.io/math2001/">Lean</a> by Heather MacBeth</li>
</ul>
</div>
</div>
<div id="outline-container-org8216868" class="outline-3">
<h3 id="org8216868">Algorithms</h3>
<div class="outline-text-3" id="text-org8216868">
<p>
They may fully mechanize 15-210 soon using <a href="https://github.com/jonsterling/agda-calf">calf</a>/decalf to prove costs. 
</p>

<ul class="org-ul">
<li>15-210 <a href="https://www.cs.cmu.edu/afs/cs/academic/class/15210-f17/www/schedule.html">Parallel &amp; Sequential ALgorithms</a> (SML)
<ul class="org-ul">
<li>Latest version of the <a href="https://www.cs.cmu.edu/~15210/docs/book.pdf">book</a> (2022)</li>
<li>The hw/labs can be found <a href="https://github.com/EAirPeter/Labs-15210">here</a> or <a href="https://github.com/functionalCS/15210labs">here</a></li>
<li>A very <a href="https://www.cambridge.org/core/journals/journal-of-functional-programming/article/proofdirected-program-transformation-a-functional-account-of-efficient-regular-expression-matching/454BB5CD9B0B056FA91957F2F9CC3EC5?utm_campaign=shareaholic&amp;utm_medium=copy_link&amp;utm_source=bookmark">detailed</a> rewrite of the regex matcher from Harper's SML book for proof directed debugging but now with efficient backtracking</li>
<li><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FDS/">Functional Data Structures</a> (OCaml) by Prof Ragde</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org8d97993" class="outline-2">
<h2 id="org8d97993">Computational Trinity</h2>
<div class="outline-text-2" id="text-org8d97993">
</div>
<div id="outline-container-org8aded8c" class="outline-3">
<h3 id="org8aded8c">Languages</h3>
<div class="outline-text-3" id="text-org8aded8c">
<ul class="org-ul">
<li><i>Practical Foundations for Programming Languages</i> <a href="http://www.cs.cmu.edu/~rwh/pfpl.html">book</a> and supplementary materials</li>
<li>Robert Harper <a href="https://www.cs.uoregon.edu/research/summerschool/summer21/topics.php">OPLSS</a> 2021 lectures and any other OPLSS lectures we find  
<ul class="org-ul">
<li>We have access to older 15-312 <a href="https://www.cs.cmu.edu/~rjsimmon/15312-s14/">assignments</a> (SML)</li>
</ul></li>
<li><a href="https://www.plai.org/">PLAI</a> a workbook (Racket/Lisp)</li>
<li><a href="https://www.youtube.com/watch?v=DEj-_k2Nx6o">Programming</a> your own type theory</li>
</ul>

<p>
The HoTT seminar explains how univalence works which will be needed to understand how equality works in many new type theories. We can take this at the same time as Harper's PFPL book.
</p>

<ul class="org-ul">
<li>15-819 <a href="http://www.cs.cmu.edu/~rwh/courses/hott/#schedule">Homotopy Type Theory</a> and book
<ul class="org-ul">
<li><a href="https://www.carloangiuli.com/papers/type-theory-book.pdf">Principles of Dependent Type Theory</a> new book (draft)</li>
<li><a href="https://cl-l313.jonmsterling.com/index/">Univalent Foundations</a> lecture notes and exercises</li>
<li><a href="https://www.cse.chalmers.se/research/group/logic/book/">Programming in MLTT</a> book</li>
<li><a href="https://arxiv.org/abs/2212.11082">Intro to Homotopy Type Theory</a> has 200+ exercises</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org52d8c84" class="outline-3">
<h3 id="org52d8c84">Logic</h3>
<div class="outline-text-3" id="text-org52d8c84">
<ul class="org-ul">
<li><a href="https://symbolaris.com/course/constlog21-schedule.html">Constructive Logic</a> (SML)</li>
<li>How to read/use The Edinburgh Logical Framework or <a href="https://homepages.inf.ed.ac.uk/gdp/publications/Framework_Def_Log.pdf">LF</a>
<ul class="org-ul">
<li>technical details we have to know</li>
</ul></li>
<li>Categorical <a href="https://www.cs.au.dk/~birke/papers/categorical-logic-tutorial-notes.pdf">logic</a></li>
</ul>
</div>
</div>
<div id="outline-container-org89c3ae7" class="outline-3">
<h3 id="org89c3ae7">Category theory</h3>
<div class="outline-text-3" id="text-org89c3ae7">
<ul class="org-ul">
<li>MIT course <a href="https://ocw.mit.edu/courses/18-s097-applied-category-theory-january-iap-2019/">Applied Category Theory</a>
<ul class="org-ul">
<li><a href="http://brendanfong.com/programmingcats.html">Programming with Categories</a> a workbook (Haskell)</li>
<li><i>Categories for Types</i> by Crole and Awodey's book</li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgd5de95f" class="outline-4">
<h4 id="orgd5de95f">Applications</h4>
<div class="outline-text-4" id="text-orgd5de95f">
<p>
See the <a href="https://topos.institute/collaborative-modelling">Topos Institute</a> for more. 
</p>

<ul class="org-ul">
<li><a href="https://kilthub.cmu.edu/articles/journal_contribution/A_Network_Protocol_Stack_in_Standard_ML/6591089">Project</a> that Robert Harper calls 'the greatest and most ignored idea' how they designed a network protocol stack in SML by combining two modules that share specs/cohere (a <a href="https://ncatlab.org/nlab/show/pullback">pullback</a>)</li>
<li><a href="https://www.cs.uoregon.edu/research/summerschool/summer16/curriculum.php">Network Programming</a> OPLSS lectures provide a comprehensive intro to the theory and practice of network programming (OCaml)</li>
</ul>
</div>
</div>
<div id="outline-container-org3c186df" class="outline-4">
<h4 id="org3c186df">Research</h4>
<div class="outline-text-4" id="text-org3c186df">
<p>
Robert Harper once spent an <a href="https://www.cambridge.org/core/journals/journal-of-functional-programming/article/on-being-a-phd-student-of-robert-harper/B68BCF31384084D9FDCB17A7DF1DE7A0">entire week</a> reading the source of an operating system to find out in complete detail exactly what happened when he pushed a button on his keyboard how it ended up transformed as pixels on his screen. His advice to grad students is to develop a point of view so when you start a project articulate exactly why it's worthwhile and keep this perspective when you are deep into the seemingly impossible technical details. 
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org9204952" class="outline-2">
<h2 id="org9204952">Start here</h2>
<div class="outline-text-2" id="text-org9204952">
<p>
Let's do <i>The Mechanics of Proof</i> because 15-150 will assume we know some of this as most CMU students will be taking <a href="https://www.math.cmu.edu/~jmackey/151_128/welcome.html">15-151</a> at the same time.   
</p>

<ul class="org-ul">
<li>Workbook <a href="https://hrmacbeth.github.io/math2001/index.html">The Mechanics of Proof</a> Fordham 2023 
<ul class="org-ul">
<li>See these <a href="https://github.com/hrmacbeth/math2001">install instructions</a> (Try Gitpod)</li>
<li>There's many <a href="https://www.youtube.com/watch?v=YbntYOs8gUQ">demos</a> on YouTube by the author Heather Macbeth</li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgb8c3f8f" class="outline-4">
<h4 id="orgb8c3f8f">Local install</h4>
<div class="outline-text-4" id="text-orgb8c3f8f">
<p>
Gitpod free tier is easiest. To install Lean locally w/Visual Studio:
</p>

<ul class="org-ul">
<li>install <a href="https://leanprover-community.github.io/get_started.html">Lean</a></li>
<li>install git</li>
<li>install code (Visual Studio code) though I use emacs see below</li>
<li>in terminal type: git clone <a href="https://github.com/hrmacbeth/math2001.git">https://github.com/hrmacbeth/math2001.git</a></li>
<li>cd math2001</li>
<li>in terminal: lake exe cache get
<ul class="org-ul">
<li>it downloads 3972+ files</li>
</ul></li>
<li>'code .' to start from present directory</li>
<li>install lean4 extension</li>
</ul>

<p>
Open any .lean extension file and you should get a right panel opening up in VS code called 'Lean Infoview' that displays tactic state goals as you click around the source code. 
</p>
</div>
</div>
<div id="outline-container-org1d90657" class="outline-4">
<h4 id="org1d90657">Emacs</h4>
<div class="outline-text-4" id="text-org1d90657">
<p>
Install <a href="https://github.com/leanprover/lean4-mode">lean4-mode</a> and Ctrl-c Ctrl-i opens the lean view in a new window showing goals. 
</p>
</div>
</div>
<div id="outline-container-orgee82c80" class="outline-3">
<h3 id="orgee82c80">Proving equalities</h3>
<div class="outline-text-3" id="text-orgee82c80">
<p>
Reading 1.1 <i>Proving equalities</i> from <a href="https://hrmacbeth.github.io/math2001/01_Proofs_by_Calculation.html#proving-equalities">Mechanics of Proof</a>. The goal here is to make both sides equal, with the right side finessed using algebra so it can be rewritten by a hypothesis such as a - b = 4 in the first example. 
</p>

<p>
1.2.x <i>Proving equalities in Lean</i> the .lean files are all included in the Math2001 directory you cloned from github. I had to fight with Lean to get it to accept 1.2.4 so rewrote it exactly like she did with parens:
</p>

<pre class="example" id="org0dd3efb">
-- Example 1.2.4.
-- Exercise: type out the whole proof printed in the text as a Lean proof.
example {a b c d e f : ℤ} (h1 : a * d = b * c) (h2 : c * f = d * e) :
    d * (a * f - b * e) = 0 := 
   calc
    d * (a * f - b * e)
      = d * a * f - d * b * e := by ring
    _ = (a * d) * f - d * b * e := by ring
    _ = (b * c) * f - d * b * e := by rw [h1]
    _ = b * (c * f) - d * b * e := by ring
    _ = b * (d * e) - d * b * e := by rw [h2]
    _ = 0 := by ring 
</pre>

<p>
The underscore tells the matcher to ignore the left hand side of the equation when rewriting or other actions as we are presently working only with the right hand side. Look at the infoview/goals it will tell you when that stage is done by 'goals accomplished'. Try clicking around various parts of the proof to see how the infoview changes:
</p>

<pre class="example" id="org560aa6a">
-- Example 1.3.2
example {x : ℤ} (h1 : x + 4 = 2) : x = -2 :=
  calc
  x = (x + 4) - 4 := by ring
  _ = 2 - 4 := by rw [h1]
  _ = -2 := by ring 
</pre>

<p>
You can rewrite a line using both hypotheses and eliminate some steps:
</p>

<pre class="example" id="org543a83b">
example {u v : ℚ} (h1 : 4 * u + v = 3) (h2 : v = 2) : u = 1 / 4 :=
  calc
  u = (4 * u + v)/4 - v/4 := by ring
  _ = 3/4 - 2/4 := by rw [h1, h2]
  _ = 1/4 := by ring
</pre>
</div>
</div>
<div id="outline-container-org1bbe474" class="outline-3">
<h3 id="org1bbe474">Tips and tricks</h3>
<div class="outline-text-3" id="text-org1bbe474">
<p>
1.3.2 once again we first establish x = x then use the hypothesis to rewrite it
</p>

<pre class="example" id="orgb50aeba">
-- Example 1.3.2
example {x : ℤ} (h1 : x + 4 = 2) : x = -2 :=
  calc
  x = (x + 4) - 4 := by ring
  _ = 2 - 4 := by rw [h1]
  _ = -2 := by ring
</pre>

<p>
For the rest of these examples try them yourself going through the 03TipsandTricks.lean file before looking at the solution it's the only way you learn.  
</p>

<pre class="example" id="org19843f1">
-- Example 1.3.5
example {x : ℤ} (h1 : 2 * x + 3 = x) : x = -3 :=
  calc
  x = (2 * x) - x  := by ring
  _ = 2 * x - (2 * x + 3) := by rw [h1]
  _ = -3 := by ring
</pre>

<p>
(╯°□°)╯︵ ┻━┻ if you see calc underlined with a red error there could be an accidental character floating around in the scope out of view somewhere it took me forever to figure that out as Lean kept giving some cryptic message and I was only looking at the signature not scrolling down to find the renegade character I mistyped.  
</p>

<p>
1.3.11 exercises all use the examples we just saw except the last 2: 
</p>

<pre class="example" id="orgfac5e48">
-- Exercises 1.3.11
example {x y : ℝ} (h1 : x = 3) (h2 : y = 4 * x - 3) : y = 9 :=
  calc
  y = y + x - x := by ring
  _ = 4 * x - 3 + x - x := by rw [h2]
  _ = 4 * x - 3 + 3 - 3 := by rw [h1]
  _ = 4 * 3 - 3 + 3 - 3 := by rw [h1]
  _ = 9 := by ring

example {a b : ℤ} (h : a - b = 0) : a = b :=
  calc
  a = a - 0 := by ring
  _ = a - (a - b) := by rw [h]
  _ = b := by ring

example {x y : ℤ} (h1 : x - 3 * y = 5) (h2 : y = 3) : x = 14 :=
  calc
  x = x - (3 * y) + (3 * y) := by ring
  _ = 5 + (3 * 3) := by rw [h1, h2]
  _ = 14 := by ring

example {p q : ℚ} (h1 : p - 2 * q = 1) (h2 : q = -1) : p = -1 :=
  calc
  p = p - (2 * q) + (2 * q) := by ring
  _ = 1 + (2 * -1) := by rw [h1, h2]
  _ = -1 := by ring

example {x y : ℚ} (h1 : y + 1 = 3) (h2 : x + 2 * y = 3) : x = -1 :=
  calc
  x = x + 2 * y - 2 * (y + 1) + 2 := by ring
  _ = 3 - 2 * 3 + 2 := by rw [h2, h1]
  _ = -1 := by ring

example {p q : ℤ} (h1 : p + 4 * q = 1) (h2 : q - 1 = 2) : p = -11 :=
  calc
  p = p + 4 * q - 4 * (q - 1) - 4 := by ring
  _ = 1 - 4 * 2 - 4 := by rw [h1, h2]
  _ = -11 := by ring

example {a b c : ℝ} (h1 : a + 2 * b + 3 * c = 7) (h2 : b + 2 * c = 3)
  (h3 : c = 1) : a = 2 :=
  calc
  a = (a + 2 * b + 3 * c) - 2 * (b + 2 * c) + c  := by ring
  _ = 7 - 2 * 3 + 1 := by rw [h1, h2, h3]
  _ = 2 := by ring

example {u v : ℚ} (h1 : 4 * u + v = 3) (h2 : v = 2) : u = 1 / 4 :=
  calc
  u = (4 * u + v)/4 - v/4 := by ring 
  _ = 3/4 - 2/4 := by rw [h1, h2]
  _ = 1/4 := by ring

example {c : ℚ} (h1 : 4 * c + 1 = 3 * c - 2) : c = -3 :=
  calc
  c =  4 * c + 1 - 3 * c - 1 := by ring
  _ = 3 * c - 2 - 3 * c - 1 := by rw [h1]
  _ = -3 := by ring

example {p : ℝ} (h1 : 5 * p - 3 = 3 * p + 1) : p = 2 :=
  calc
  p =  (5 * p  - 3 - 3 * p + 1)/2 + 1 := by ring
  _ = (3 * p + 1 - 3 * p + 1)/2 + 1 := by rw [h1]
  _ = 2/2 + 1 := by ring
  _ = 2 := by ring

example {x y : ℤ} (h1 : 2 * x + y = 4) (h2 : x + y = 1) : x = 3 :=
  calc
  x = 2 * x + y - 1 * (x + y) := by ring
  _ = 4 - 1 * 1 := by rw [h1, h2]
  _ = 3 := by ring

example {a b : ℝ} (h1 : a + 2 * b = 4) (h2 : a - b = 1) : a = 2 :=
  calc
  a = (a + 2 * b + 2 * (a - b)) / 3 := by ring
  _ = (4 + 2 * 1)/3 := by rw [h1, h2] 
  _ = 6/3 := by ring
  _ = 2 := by ring

example {u v : ℝ} (h1 : u + 1 = v) : u ^ 2 + 3 * u + 1
  = v ^ 2 + v - 1 :=
  calc
  u^2 + 3*u + 1 = 
  (u + 1)^2 + u + 1 - 1 := by ring
  _ = v^2 + u + 1 - 1 := by rw [h1]
  _ = v^2 + v - 1 := by rw [h1]
 -- red squiggle on last rw...??
 -- this should work but I gave up

 -- use symbolab.com or similar site to divide 
 -- this is directly from one of the examples in the book
example {t : ℚ} (ht : t ^ 2 - 4 = 0) :
    t ^ 4 + 3 * t ^ 3 - 3 * t ^ 2 - 2 * t - 2 = 10 * t + 2 :=
    calc
    t^4 + 3* t^3 - 3* t^2 - 2 * t - 2 =
    (t^2 + 3 * t + 1) * (t^2 - 4) + 10 * t + 2 := by ring
    _ = (t^2 + 3 * t + 1) * 0 + 10 * t + 2 := by rw [ht]
    _ = 10 * t + 2 := by ring
</pre>

<p>
Exercise 15 what I want to do is \(\frac{x(2 - y)}{x}\cdot(-1) + 2\) which = y and satisfies the first 'by ring' expression so it can be rewritten after to zero leaving only 2 but lean wouldn't let me because I still don't really understand how bracket scope works in lean. 
</p>

<p>
Exercise 16 is of course impossible (no rational number exists that when squared is negative) but lean will let you prove it anyway using rewrites. If you want more exercises there's <a href="https://github.com/hrmacbeth/math2001/tree/main/Math2001/Homework">homework</a> for this book/course in the git repository that the students would have to submit using gradescope just don't post solutions anywhere or else prof's lock all their materials down to prevent cheating students.  
</p>
</div>
</div>
<div id="outline-container-orgfe74086" class="outline-3">
<h3 id="orgfe74086">Proving inequalities</h3>
<div class="outline-text-3" id="text-orgfe74086">
<p>
We're still doing the <a href="https://hrmacbeth.github.io/math2001/01_Proofs_by_Calculation.html#proving-inequalities">proofs by calc</a> chapter.
</p>

<p>
1.4.1 example copy down some of the general rules
</p>
<ul class="org-ul">
<li>Inequality preserved if C \(\ge\) 0:</li>
<li>A \(\ge\) B implies CA \(\ge\) CB</li>
<li>A \(\ge\) B implies A - C \(\ge\) B - C</li>
<li>A \(\ge\) B and B &gt; C then A &gt; C</li>
</ul>


<ul class="org-ul">
<li>Reversed inequality:</li>
<li>A \(\ge\) B implies C - B \(\ge\) C - A 
<ul class="org-ul">
<li>2 \(\ge\) 1 implies 5 - 1 \(\ge\) 5 - 2</li>
</ul></li>
</ul>

<p>
To get the full list of the unicode symbols every editor plugin comes with an <a href="https://github.com/leanprover-community/lean4-mode/blob/master/data/abbreviations.json">abbreviations.json</a> file. Place '\' (LaTeX style commands) before any of those symbols on the left of the abbreviations file to see them converted to the symbols on the right. For example \b is converted in the editor to \(\beta\)    
</p>

<pre class="example" id="org162ae66">
\ge greater or equal
\le less than or equal
&lt; and &gt; are just unicode keyboard chars
</pre>

<pre class="example" id="org2fc3c46">
-- Example 1.4.2
example {r s : ℚ} (h1 : s + 3 ≥ r) (h2 : s + r ≤ 3) : r ≤ 3 :=
  calc
    r = (s + r + r - s) / 2 := by ring
    _ ≤ (3 + (s + 3) - s) / 2 := by rel [h1, h2]
    _ = 3 := by ring
</pre>


<p>
Example 1.4.3 think why is x + y &lt;= x + (x + 5) it's because y &lt;= x + 5 and x is &lt;= to itself. 
</p>

<pre class="example" id="org4909b69">
-- Example 1.4.3
example {x y : ℝ} (h1 : y ≤ x + 5) (h2 : x ≤ -2) : x + y &lt; 2 :=
  calc
  x + y ≤ x + (x + 5) := by rel [h1]
  _ = 2 * x + 5 := by ring 
  _ ≤ 2 * -2 + 5 := by rel [h2]
  _ &lt; 2 := by numbers
</pre>

<p>
Example 1.4.6 the final tactic is := by extra which is defined in the <a href="https://hrmacbeth.github.io/math2001/Index_of_Tactics.html">Index of Lean tactics</a> as "extra checks an inequality whose two sides differ by the addition of a positive quantity". 
</p>

<pre class="example" id="orgee29a64">
-- Example 1.4.9
example {a b : ℚ} (h1 : a ≥ 0) (h2 : b ≥ 0) (h3 : a + b ≤ 8) :
    3 * a * b + a ≤ 7 * b + 72 :=
  calc
    3 * a * b + a
      ≤ 2 * b ^ 2 + a ^ 2 + (3 * a * b + a) := by extra
    _ = 2 * ((a + b) * b) + (a + b) * a + a := by ring
    _ ≤ 2 * (8 * b) + 8 * a + a := by rel [h3]
    _ = 7 * b + 9 * (a + b) := by ring
    _ ≤ 7 * b + 9 * 8 := by rel [h3]
    _ = 7 * b + 72 := by ring
</pre>

<p>
1.4.10 same tactic used, put left hand side of inequality on right and side, add some positive squares. If you use any symbolic calculator online then the enormous expanded square makes sense as (a<sup>4</sup> + b<sup>4</sup> + c<sup>4</sup>)<sup>2</sup> = a<sup>8</sup>+2a<sup>4</sup>b<sup>4</sup>+2a<sup>4</sup>c<sup>4</sup>+b<sup>8</sup>+2b<sup>4</sup>c<sup>4</sup>+c<sup>8</sup>
</p>

<p>
Try the 14.11 exercises I couldn't get lean to accept my solution for the last exercise:
</p>

<pre class="example" id="org40d0487">
example {x y : ℤ} (h1 : x + 3 ≥ 2 * y) (h2 : 1 ≤ y) : x ≥ -1 :=
  calc
  x = x + 3 - 3 := by ring
  _ ≥ 2 * y - 3 := by rel [h1]
  _ ≥ 2 * 1 - 3 := by rel [h2]
  _ ≥ -1 := by numbers 

example {a b : ℚ} (h1 : 3 ≤ a) (h2 : a + 2 * b ≥ 4) : a + b ≥ 3 :=
  calc
  a + b = a/2 + (a + 2*b)/2 := by ring
      _ ≥ 3/2 + 4/2 := by rel [h1,h2]
      _ ≥ 3 := by numbers

example {x : ℤ} (hx : x ≥ 9) : x ^ 3 - 8 * x ^ 2 + 2 * x ≥ 3 :=
  calc
  x ^ 3 - 8 * x ^ 2 + 2 * x = 
  x * x * x - 8 * x * x + 2 * x := by ring
  _ ≥ 9 * x * x - 8 * x * x + 2 * x := by rel [hx]
  _ = x * x + 2 * x := by ring
  _ ≥ 9 * x + 2 * x := by rel [hx]
  _ = 11 * x := by ring 
  _ ≥ 11 * 9 := by rel [hx]
  _ ≥ 3 := by numbers   

example {n : ℤ} (hn : n ≥ 10) : n ^ 4 - 2 * n ^ 2 &gt; 3 * n ^ 3 :=
  calc
  n^4 - 2 * n^2 =  
  n * n^3 - 2 * n^2 := by ring
  _ ≥ 10 * n^3 - 2 * n^2 := by rel [hn]
  _ = 3 * n^3 + 7 * n * n * n - 2 * n * n := by ring
  _ ≥ 3 * n^3 + 7 * 10 * n * n - 2 * n * n := by rel [hn]
  _ = 3 * n^3 + 68 * n * n := by ring
  _ ≥ 3 * n^3 + 68 * 10 * 10 := by rel [hn]
  _ &gt; 3 * n^3 := by extra
  
example {n : ℤ} (h1 : n ≥ 5) : n ^ 2 - 2 * n + 3 &gt; 14 :=
  calc
  n^2 - 2 * n + 3 =
  n * n - 2 * n + 3 := by ring
  _ ≥ 5 * n - 2 * n + 3 := by rel [h1]
  _ = 3 * n + 3 := by ring
  _ ≥ 3 * 5 + 3 := by rel [h1]
  _ &gt; 14 := by numbers

example {x : ℚ} : x ^ 2 - 2 * x ≥ -1 :=
 calc
  x ^ 2 - (2 * x) ≥ x ^ 2 - (2  * x) := by extra
  _ = (x - 1)^2 - 1 := by ring
  _ ≥ -1 := by extra
  
example (a b : ℝ) (h1 : c &lt; (a + b)/2) : a ^ 2 + b ^ 2 ≥ 2 * a * b :=
  calc
  a^2 + b^2 = a*(a + b) - b*(a - b) := by ring
-- what I want to do is show b^2 - c^2 &gt; c^2 - a^2
-- then a^2 + b^2 &gt; 2c^2 where c = (a + b)/2 but failed 
</pre>

<p>
Read the next section on addarith, it's a purposely weakened version of linarith the usual mathlib tactic in Lean because it performs a bunch of magic you don't even to tell it which hypotheses to use.
</p>
</div>
</div>
<div id="outline-container-org8405b9c" class="outline-3">
<h3 id="org8405b9c">Proofs with structure</h3>
<div class="outline-text-3" id="text-org8405b9c">
<p>
TODO
</p>
</div>
</div>
</div>
<div id="outline-container-org08ad81b" class="outline-2">
<h2 id="org08ad81b">Principles of Functional Programming</h2>
<div class="outline-text-2" id="text-org08ad81b">
<p>
TODO there is abbreviated version of this course <a href="https://www.functionsarevalues.com/">here</a>
</p>


<hr />
</div>
</div>
</div>
</body>
</html>
